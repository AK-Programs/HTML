<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Computer Quiz - 9</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" type="image/x-icon" href="/Images/AK-Programs-Logo.png"> 
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css">

    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            background-color: #f4f4f4;
            margin: 0;
            padding: 0;
        }
        .quiz-container {
            width: 90%;
            max-width: 600px;
            margin: auto;
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
        .question {
            margin-bottom: 10px;
            text-align: left;
        }
        .options label {
            display: block;
            padding: 10px;
            border-radius: 5px;
            margin-bottom: 5px;
            cursor: pointer;
            transition: all 0.3s;
            border: 1px solid #ddd;
        }
        .options input[type="radio"] {
            display: none;
        }
        .options input[type="radio"]:checked + label {
            background-color: #007bff;
            color: white;
        }
        .correct-answer {
            background-color: #c8e6c9 !important;
            border-color: green !important;
        }
        .wrong-answer {
            background-color: #ffcccb !important;
            border-color: red !important;
        }
        #result {
            margin-top: 20px;
            font-size: 1.2em;
            font-weight: bold;
        }
        .btn {
            display: block;
            width: 100%;
            padding: 10px;
            margin-top: 20px;
            font-size: 18px;
            font-weight: bold;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: 0.3s;
        }
        #submit {
            background-color: #28a745;
            color: white;
        }
        #submit:hover {
            box-shadow: 0 0 15px rgba(40, 167, 69, 0.7);
        }
        #reset {
            background-color: #dc3545;
            color: white;
            display: none;
        }
        #reset:hover {
            box-shadow: 0 0 15px rgba(220, 53, 69, 0.7);
        }
        @media (max-width: 768px) {
            .quiz-container {
                width: 95%;
            }
        }

        .madeBy
        {
            font-size: 15px;
            color: #000000;
            margin-top: 15px;
            margin-bottom: 10px;
        }

        h1
        {
            background-color: blue;
            box-shadow: 0 0 10px darkblue;
            border-radius: 8px;
        }

        
    </style>
</head>
<body>
    <div class="quiz-container">
        <h1>Computer Quiz - 9th Std</h1>
        <div id="quiz"></div>
        <button id="submit" class="btn">Submit Quiz</button>
        <!-- <button id="reset" class="btn">Reset Quiz</button> -->
        <div id="result"></div>
        <p class="madeBy"> <i class="fa-solid fa-user"></i> Made by Naitik Kashyap</p>
    </div>
    <script>  
        const allQuestions = [  
            { question: "From routine business activities in a given area to a spectacular task, computers are applicable everywhere and so they are called ____________.", options: ["All device machine", "Main purpose machine", "All purpose machine", "Multipurpose machine"], answer: "Multipurpose machine" },
            { question: "Which of the following identifies the concept of a computer itself remembering the set of data and Instructions to be executed?", options: ["Fixed source concept", "Stored program concept", "Automatic source concept", "Variable source concept"], answer: "Stored program concept" },
            { question: "_____________ performs a basic check on all other components and peripheral devices the computer.", options: ["POST", "GET", "ROM", "RAM"], answer: "POST" },
            { question: "The full form of ANSI is __________.", options: ["African National Standard Institute", "Australian National Standard Institute", "Algorithm National Standard Institute", "American National Standard Institute"], answer: "American National Standard Institute" },
            { question: "The full form of OCR is __________.", options: ["Optional Card Reader", "Optical Character Reader", "Optional Character Reader", "Optical Card Reader"], answer: "Optical Character Reader" },
            { question: "__________ are commonly used output devices.", options: ["Printer", "Projector", "Plotter", "Monitor"], answer: "Monitor" },
            { question: "During late 1940's _________ found a way to encode instructions in the language.", options: ["Jon Von Neumann", "Jon Von Pascal", "Blaise Pascal", "Charles Babbage"], answer: "Jon Von Neumann" },
            { question: "Who developed the Linux Kernel?", options: ["Richard Stallman", "Linus Torvalds", "Ken Thompson", "Dennis Ritchie"], answer: "Linus Torvalds" },
            { question: "Which of the following boasts of an excellent device driver support?", options: ["Microsoft Windows", "Apple OS", "Linux", "Ubuntu Linux"], answer: "Microsoft Windows" },
            { question: "_______ tool for formatting toolbar is used to provide various numbering effect to the selected list.", options: ["Numbering list", "Bulleted list", "Increase indent", "Decrease indent"], answer: "Numbering list" },
            { question: "In Eye of GNOME, ________ option of Edit menu, deletes the image and moves it to trash.", options: ["Preferences", "Redo", "Undo", "Move to trash"], answer: "Move to trash" },
            { question: "In the late 1970's, __________ was the most widely used word processing software.", options: ["Writer", "Microsoft WordStar", "WordPerfect", "Google Docs"], answer: "Microsoft WordStar" },
            { question: "___________ application of Graphics sub-menu is used for scanning documents and pictures using a scanner.", options: ["OpenOffice.org Draw", "Simple Scan", "GIMP Image Editor", "F-spot Photo Manager"], answer: "Simple Scan" },
            { question: "Which option of the Applications/Sound and Video menu and sub-menu play music on the computer?", options: ["Brasero disk burner", "Movie player", "Sound recorder", "Rhythmbox music player"], answer: "Rhythmbox music player" },
            { question: "A data source is also known as ___________.", options: ["Source Letter", "Data Form", "Source Base", "Database"], answer: "Database" },
            { question: "Symbols or numbers written for the comments (for footnote/endnote) are generally written as ___________.", options: ["Superscript", "Italics", "Bold", "Subscript"], answer: "Superscript" },
            { question: "Which of the following provides slide master?", options: ["Table Design", "Custom Animation", "Layouts", "Master Pages"], answer: "Master Pages" },
            { question: "The process of converting analog data into equivalent digital symbol is known as ____________.", options: ["Demodulation", "Modulation", "Modulator", "Modular"], answer: "Demodulation" },
            { question: "Among the following which tool can be used to edit the web pages and manage links within the documents?", options: ["Hyper Text Mark-up Language", "Cascading Style Sheets", "JavaScript", "Python"], answer: "Hyper Text Mark-up Language" },
            { question: "What is collective name of both cryptography and cryptanalysis ?", options: ["Cryptanalysis", "Cryptography", "Cryptology", "All of the given"], answer: "Cryptology" }
        ];  

        function loadQuiz() {  
            document.getElementById("quiz").innerHTML = "";  
            let quizData = allQuestions.sort(() => 0.5 - Math.random()).slice(0, 20);  

            quizData.forEach((q, index) => {  
                let options = q.options.sort(() => 0.5 - Math.random());  
                const questionElement = document.createElement("div");  
                questionElement.classList.add("question");  
                questionElement.innerHTML = `<p>${index + 1}. ${q.question}</p>`;  
                const optionsContainer = document.createElement("div");  
                optionsContainer.classList.add("options");  

                options.forEach(option => {  
                    optionsContainer.innerHTML += `<input type="radio" name="q${index}" value="${option}" id="q${index}-${option}">   
                    <label for="q${index}-${option}">${option}</label>`;  
                });  

                questionElement.appendChild(optionsContainer);  
                document.getElementById("quiz").appendChild(questionElement);  

            });  

            // Hide submit button initially  
            document.getElementById("submit").style.display = "none";  

            // Add event listener to enable submit button when all are answered  
            document.querySelectorAll('input[type="radio"]').forEach(radio => {  
                radio.addEventListener("change", checkIfAllAnswered);  
            });  
        }  

        function checkIfAllAnswered() {  
            let allAnswered = true;  
            document.querySelectorAll(".question").forEach((question, index) => {  
                if (!document.querySelector(`input[name="q${index}"]:checked`)) {  
                    allAnswered = false;  
                }  
            });  

            if (allAnswered) {  
                document.getElementById("submit").style.display = "block";  
            } else {  
                document.getElementById("submit").style.display = "none";  
            }  
        }  

        function getURLParams() {  
            const urlParams = new URLSearchParams(window.location.search);  
            return {  
                firstName: urlParams.get('firstName'),  
                lastName: urlParams.get('lastName'),  
                rollNo: urlParams.get('rollNo'), // Get roll number  
                std: urlParams.get('std'),  
                section: urlParams.get('section')  
            };  
        }  


        document.getElementById("submit").addEventListener("click", () => { 
            const conformation = confirm("Make sure to check all answers before submitting. Once you submit you will get your score as per your answer.\nIf Everything is checked, click OK \nIf you want to check, click Cancel");
            if (conformation) {
                
                let score = 0; // Initialize score counter  
                let totalQuestions = 20; // Total number of questions  

                document.querySelectorAll(".question").forEach((question, index) => {  
                    let selected = document.querySelector(`input[name="q${index}"]:checked`);  
                    let correctAnswer = allQuestions[index].answer;  
                    let labels = question.querySelectorAll("label");  

                    labels.forEach(label => {  
                        if (label.innerText === correctAnswer) {  
                            label.classList.add("correct-answer");  
                        } else if (label.previousElementSibling.checked) {  
                            label.classList.add("wrong-answer");  
                        }  
                    });  

                    // Increase score if the selected answer is correct  
                    if (selected && selected.value === correctAnswer) {  
                        score++;  
                    }  
                });  

                // Disable all radio buttons to prevent changes after submission  
                document.querySelectorAll('input[type="radio"]').forEach(radio => {  
                    radio.disabled = true;  
                });  

                // Display score and make it visible  
                document.getElementById("result").innerText = `Your Score: ${score}/${totalQuestions}`;  
                document.getElementById("result").style.display = "block"; // Show score  
                document.getElementById("submit").style.display = "none";  
                // document.getElementById("reset").style.display = "block";  

                // === Send score to Google Sheet ===  
                const scriptURL = 'https://script.google.com/macros/...'; // Add your macros script url from google sheets    
                const formData = new FormData();  
                const userInfo = getURLParams(); // Get user info  

                formData.append("firstName", userInfo.firstName);  // Add first name  
                formData.append("lastName", userInfo.lastName);    // Add last name  
                formData.append("rollNo", userInfo.rollNo);      // Add roll number  
                formData.append("std", userInfo.std);    // Add class  
                formData.append("section", userInfo.section); // Add section  
                formData.append("Score", score);          // Add score  
                formData.append("total", totalQuestions); // Total possible score  
                formData.append("timestamp", new Date().toLocaleString()); // Send the timestamp  

                fetch(scriptURL, { method: 'POST', body: formData })  
                    .then(response => console.log("Score Sent Successfully"))  
                    .catch(error => console.error("Error sending score")) 
            } else {
                return;
            }
        });    

        // Reset Quiz  
        //document.getElementById("reset").addEventListener("click", () => {  
          //  loadQuiz();  
            //document.getElementById("reset").style.display = "none";  
          //  document.getElementById("result").innerText = ""; // Reset score text  
          //  document.getElementById("result").style.display = "none"; // Hide score  
        // });  

        loadQuiz();  
    </script>  
    
</body>

</html>
